<% active = active.nil? ? false : active %>
<div class="card mb-3 shadow-sm rounded <%= project_border_class(active) %>">
  <!-- Header Section -->
  <%= render partial: "projects/project_header", locals: { project: project, active: active } %>

  <!-- Main Content -->
  <div class="card-body bg-light rounded-bottom">
    <div class="row align-items-center">
      <div class="col">
      </div>


      <div class="col-auto">
        <%= render partial: '/shared/project_progress', locals: project_progress_data(project) %>
      </div>
    </div>

    <!-- File Toggle Button -->
    <div class="mt-3">
      <button class="btn btn-sm btn-outline-dark"
              data-bs-toggle="collapse"
              data-bs-target="#files-<%= project.id %>"
              aria-expanded="false"
              aria-controls="files-<%= project.id %>">
        <i class="bi bi-chevron-down me-1"></i> Show Files
      </button>
    </div>

    <!-- Collapsible File List -->
    <div class="collapse mt-2" id="files-<%= project.id %>">
      <%= render partial: '/projects/files', locals: { project: project } %>
    </div>
  </div>
</div>
