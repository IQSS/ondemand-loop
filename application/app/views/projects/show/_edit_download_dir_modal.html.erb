<div id="edit-download-dir-modal"
     class="modal fade"
     tabindex="-1"
     aria-modal="true"
     role="dialog"
     data-project-download-dir-target="modal">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><%= t('.header_title') %></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="<%= t('layouts.modal.button_close_label') %>"></button>
      </div>
      <div class="modal-body">
        <form data-project-download-dir-target="form" action="<%= project_path(id: project.id) %>" method="post">
          <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
          <%= hidden_field_tag :_method, 'put' %>
          <div class="mb-3">
            <input type="text" readonly name="download_dir" class="form-control" value="<%= project.download_dir %>" data-project-download-dir-target="path" aria-label="<%= t('.field_path_label') %>">
          </div>
          <div data-project-download-dir-target="browser" id="download-dir-browser-<%= project.id %>"
               data-controller="file-browser"
               data-file-browser-url-value="<%= file_browser_path(path: project.download_dir) %>"
               style="height: 500px;" class="mb-3 overflow-auto border rounded">
          </div>
          <div class="d-flex justify-content-end gap-2 mt-4">
            <button type="submit" class="btn btn-primary" data-action="project-download-dir#select">
              <i class="bi bi-check-lg me-1" aria-hidden="true"></i><%= t('.button_select_text') %>
            </button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><%= t('.button_cancel_text') %></button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
